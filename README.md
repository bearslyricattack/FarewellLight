# FarewellLight
一个接口管理器，使用内存数据库记录接口的状态，并使用断路器模式实现接口的自动熔断，请求合并（用于解决缓存击穿等问题），A/B测试，文档维护管理等功能。

# 1.熔断：

采用断路器设计模式开发，使用内存数据库维护接口的状态。

每次发送请求的时候，把请求的返回值存入cbk对象。

cbk对象中维护了一个map，用来保存方法对应的key和返回值，在错误达到一定次数后出发熔断。

访问方法之前，根据方法的key判断是否需要熔断，如果需要就自动返回，不需要就结束。

# 2.合并：

主要基于go/sync/singleflight开发，使用中介者模式解决它在特殊状态下的熔断策略等问题。

后续可以基于当前方案增添更多的功能。
